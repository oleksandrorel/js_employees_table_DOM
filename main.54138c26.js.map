{"version":3,"sources":["scripts/main.js"],"names":["sortedBy","table","document","querySelector","bodyOfTable","people","querySelectorAll","headers","peopleArr","headersArr","tableSort","header","index","findIndex","el","textContent","sort","a","b","elA","children","replace","elB","localeCompare","reverse","addEventListener","event1","target","tagName","append","arr","className","parentNode","form","createElement","method","body","label","input","labelForSelect","innerHTML","cloneNode","labels","i","setAttribute","toLowerCase","insertAdjacentHTML","dataset","qa","button","type","preventDefault","obj","elements","value","name","length","age","position","pushNotification","tr","salary","office","toLocaleString","push","reset","title","description","div","classList","add","style","top","right","minHeight","width","setTimeout","hidden","inputForCell","previousText","td","employee","remove","insertBefore","initialText","event2","key","enteredText"],"mappings":"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","file":"main.54138c26.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst table = document.querySelector(`table`);\nconst bodyOfTable = document.querySelector(`tbody`);\nconst people = bodyOfTable.querySelectorAll(`tr`);\nconst headers = table.querySelector(`thead`).querySelectorAll(`th`);\nconst peopleArr = [...people];\nconst headersArr = [...headers];\nlet sortedBy;\n\n// Headers sort\n\nconst tableSort = function(header) {\n  if (sortedBy !== header) {\n    sortedBy = header;\n\n    const index = headersArr.findIndex(el => {\n      return el.textContent === header;\n    });\n\n    peopleArr.sort((a, b) => {\n      const elA = a.children[index].textContent.replace(/[$,]/g, ``);\n      const elB = b.children[index].textContent.replace(/[$,]/g, ``);\n\n      if (header === `Salary` || header === `Age`) {\n        return elA - elB;\n      }\n\n      return elA.localeCompare(elB);\n    });\n  } else {\n    peopleArr.reverse();\n  }\n};\n\ntable.addEventListener(`click`, (event1) => {\n  if (event1.target.tagName !== `TH`) {\n    return;\n  }\n  tableSort(event1.target.textContent);\n\n  for (const el of peopleArr) {\n    bodyOfTable.append(el);\n  }\n});\n\n// Rows selecting\nbodyOfTable.addEventListener(`click`, (event1) => {\n  if (event1.target.tagName !== `TD`) {\n    return;\n  }\n\n  const arr = [...bodyOfTable.children];\n\n  for (const el of arr) {\n    el.className = `non-active`;\n  }\n  event1.target.parentNode.className = `active`;\n});\n\n// Created form\nconst form = document.createElement(`form`);\n\nform.method = `GET`;\nform.className = `new-employee-form`;\ndocument.body.append(form);\n\nconst label = document.createElement(`label`);\nconst input = document.createElement(`input`);\nconst labelForSelect = document.createElement(`label`);\n\nlabel.append(input);\n\nlabelForSelect.innerHTML = `\nOffice:\n<select data-qa=\"office\">\n  <option value=\"Tokyo\">Tokyo</option>\n  <option value=\"Singapore\">Singapore</option>\n  <option value=\"London\">London</option>\n  <option value=\"New York\">New York</option>\n  <option value=\"Edinburgh\">Edinburgh</option>\n  <option value=\"San Francisco\">San Francisco</option>\n</select>\n`;\n\nform.append(label.cloneNode(true), label.cloneNode(true),\n  labelForSelect, label.cloneNode(true), label.cloneNode(true));\n\nconst labels = document.querySelectorAll(`label`);\n\nlet i = 0;\n\nfor (const el of headers) {\n  if (el.textContent === `Office`) {\n    i++;\n    continue;\n  }\n\n  labels[i].children[0].setAttribute(el.textContent.toLowerCase(),\n    el.textContent.toLowerCase());\n\n  labels[i].insertAdjacentHTML(`afterbegin`,\n    `${el.textContent}:`);\n  labels[i].children[0].dataset.qa = el.textContent.toLowerCase();\n\n  if (el.textContent === `Name` || el.textContent === `Position`) {\n    labels[i].children[0].setAttribute(`type`, `text`);\n    i++;\n  }\n\n  if (el.textContent === `Age` || el.textContent === `Salary`) {\n    labels[i].children[0].setAttribute(`type`, `number`);\n    i++;\n  }\n}\n\nconst button = document.createElement(`button`);\n\nform.append(button);\nbutton.textContent = `Save to table`;\nbutton.type = `submit`;\n\n// handler for form\nform.addEventListener(`submit`, (event1) => {\n  event1.preventDefault();\n\n  const obj = {};\n\n  for (const el of form.elements) {\n    obj[el.dataset.qa] = el.value;\n  }\n\n  if (obj.name.length < 4 || obj.age < 18 || obj.age > 90\n    || obj.position.length < 4) {\n    pushNotification('Error',\n      `Please, verify inputs 'Name', 'Position' and 'Age'`,\n      'error');\n\n    return;\n  }\n\n  pushNotification('Success', `You have successfuly added new employee.`,\n    'success');\n\n  const tr = document.createElement(`tr`);\n\n  obj.salary = +obj.salary;\n\n  tr.innerHTML = `\n  <td>${obj.name}</td>\n  <td>${obj.position}</td>\n  <td>${obj.office}</td>\n  <td>${obj.age}</td>\n  <td>$${obj.salary.toLocaleString()}</td>\n  `;\n  peopleArr.push(tr);\n  bodyOfTable.append(tr);\n  form.reset();\n});\n\n// Notification function\nconst pushNotification = (title, description, type) => {\n  const div = document.createElement(`div`);\n\n  div.classList.add(`notification`, type);\n  div.dataset.qa = `notification`;\n\n  div.innerHTML = `\n  <h2 class = \"title\">${title}</h2>\n  <p>${description}</p>`;\n\n  div.style.top = `5px`;\n  div.style.right = `10px`;\n  div.style.minHeight = `50px`;\n  div.style.width = `400px`;\n\n  document.body.append(div);\n\n  setTimeout(() => {\n    div.hidden = true;\n  }, 2000);\n};\n\n// editing of cells\n\nbodyOfTable.addEventListener(`dblclick`, (event1) => {\n  event1.preventDefault();\n\n  const inputForCell = document.createElement(`input`);\n  const previousText = event1.target.textContent;\n\n  inputForCell.className = `cell-input`;\n  inputForCell.value = previousText;\n\n  const td = document.createElement(`td`);\n\n  td.append(inputForCell);\n\n  const arr = [...event1.target.parentNode.children];\n  const index = arr.findIndex(el =>\n    el.textContent === event1.target.textContent);\n\n  const employee = event1.target.parentNode;\n\n  event1.target.remove();\n  employee.insertBefore(td, employee.children[index]);\n\n  const initialText = arr[index].textContent;\n\n  td.addEventListener(`keydown`, (event2) => {\n    if (event2.key !== `Enter`) {\n      return;\n    };\n\n    if (event2.target.value === ``) {\n      event2.target.parentNode.textContent = initialText;\n      event2.target.remove();\n\n      return;\n    };\n\n    const enteredText = event2.target.value;\n\n    event2.target.parentNode.textContent = enteredText;\n    event2.target.remove();\n  });\n\n  td.addEventListener(`blur`, (event2) => {\n    if (event2.target.value === ``) {\n      event2.target.parentNode.textContent = initialText;\n      event2.target.remove();\n\n      return;\n    };\n\n    const enteredText = event2.target.value;\n\n    event2.target.parentNode.textContent = enteredText;\n    event2.target.remove();\n  }, true);\n});\n"]}